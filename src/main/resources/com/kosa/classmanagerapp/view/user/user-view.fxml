<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.*?>

<?import java.lang.String?>
<?import javafx.scene.image.Image?>
<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.kosa.classmanagerapp.controller.UserController"
      spacing="20"
      style="-fx-padding: 20;">

    <!-- 출석 정보 + 로그아웃 -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Label fx:id="attendanceLabel" text="출석 : 0 지각 : 0 외출 : 0 결석 : 0"/>
        <Pane HBox.hgrow="ALWAYS"/>
        <Button text="로그아웃" styleClass="black-button" onAction="#logoutClick"/>
        <Button fx:id="usernameLabel" text="사용자명"/>
    </HBox>

    <!-- 수업 공지 -->
    <VBox spacing="10" style="-fx-border-color: black; -fx-padding: 15;">
        <Label text="수업 공지" style="-fx-font-size:16px; -fx-font-weight:bold;"/>

        <ListView fx:id="noticeListView" prefHeight="150">
            <items>
                <FXCollections fx:factory="observableArrayList">
                    <String fx:value="과제 제출 [링크]"/>
                    <String fx:value="공유폴더1 [링크]"/>
                    <String fx:value="공유폴더2 [링크]"/>
                </FXCollections>
            </items>
        </ListView>
    </VBox>

    <!-- 개인 + 팀 과제를 좌우 배치 -->
    <HBox spacing="20">

        <!-- 개인 과제 -->
        <VBox spacing="10" style="-fx-border-color:black; -fx-padding:15;" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_RIGHT" spacing="10">
                <Label text="개인 과제" style="-fx-font-size:16px; -fx-font-weight:bold;"/>
                <Button onAction="#refreshPrivate" styleClass="icon-button">
                    <graphic>
                        <ImageView fitWidth="18" fitHeight="18">
                            <image>
                                <Image url="@../../icons/refresh.png"/>
                            </image>
                        </ImageView>
                    </graphic>
                </Button>
            </HBox>

            <TableView fx:id="privateTaskTable" prefHeight="200">
                <columns>
                    <TableColumn fx:id="colSubmitted" text="제출여부" prefWidth="120"/>
                    <TableColumn fx:id="colTitle" text="과제이름" prefWidth="180"/>
                    <TableColumn fx:id="colDate" text="마감날짜" prefWidth="180"/>
                </columns>
            </TableView>

            <HBox alignment="CENTER_RIGHT">
                <Button text="제출" styleClass="black-button" onAction="#submitPrivate"/>
            </HBox>
        </VBox>

        <!-- 팀 과제 -->
        <VBox spacing="10" style="-fx-border-color:black; -fx-padding:15;" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_RIGHT" spacing="10">
                <Label text="팀 과제" style="-fx-font-size:16px; -fx-font-weight:bold;"/>
                <Button onAction="#refreshTeam" styleClass="icon-button">
                    <graphic>
                        <ImageView fitWidth="18" fitHeight="18">
                            <image>
                                <Image url="@../../icons/refresh.png"/>
                            </image>
                        </ImageView>
                    </graphic>
                </Button>
            </HBox>

            <TableView fx:id="teamTaskTable" prefHeight="200">
                <columns>
                    <TableColumn fx:id="teamSubmitted" text="제출여부" prefWidth="120"/>
                    <TableColumn fx:id="teamTitle" text="과제이름" prefWidth="180"/>
                    <TableColumn fx:id="teamDate" text="마감날짜" prefWidth="180"/>
                </columns>
            </TableView>

            <HBox alignment="CENTER_RIGHT">
                <Button text="제출" styleClass="black-button" onAction="#submitTeam"/>
            </HBox>
        </VBox>

    </HBox>

</VBox>
