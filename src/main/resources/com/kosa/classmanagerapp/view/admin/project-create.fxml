<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.kosa.classmanagerapp.controller.admin.projectCreateController"
      prefHeight="600.0" prefWidth="900.0"
      stylesheets="@../../style/main.css"
      style="-fx-background-color: white;">

    <StackPane prefHeight="70" style="-fx-background-color: white; -fx-padding: 10 20; -fx-border-color: #DDDDDD; -fx-border-width: 0 0 1 0;">

        <Label text="과제 생성 및 관리" styleClass="label-header" style="-fx-font-size: 24px;"/>

        <HBox alignment="CENTER_LEFT" pickOnBounds="false">
            <Button text="← 뒤로가기"
                    onAction="#adminButtonClick"
                    styleClass="button-secondary"
                    style="-fx-padding: 8 15;"/>
        </HBox>
    </StackPane>

    <HBox VBox.vgrow="ALWAYS" spacing="30" styleClass="content-padding">

        <VBox styleClass="dashboard-card" prefWidth="350" spacing="20">
            <Label text="새 과제 등록" styleClass="label-subheader"/>

            <VBox spacing="15" VBox.vgrow="ALWAYS">

                <VBox spacing="5">
                    <Label text="과제 제목" styleClass="label-body"/>
                    <TextField fx:id="title_admin" promptText="제목을 입력하세요" styleClass="text-field"/>
                </VBox>

                <VBox spacing="5">
                    <Label text="내용" styleClass="label-body"/>
                    <TextField fx:id="content_admin" promptText="과제 내용을 입력하세요" styleClass="text-field"/>
                </VBox>

                <VBox spacing="5">
                    <Label text="과제 유형" styleClass="label-body"/>
                    <HBox spacing="20" style="-fx-padding: 5 0;">
                        <CheckBox fx:id="assignmentType_team" text="팀 과제"/>
                        <CheckBox fx:id="assignmentType_person" text="개인 과제"/>
                    </HBox>
                </VBox>

                <VBox spacing="5">
                    <Label text="마감 날짜" styleClass="label-body"/>
                    <DatePicker fx:id="dueDate" promptText="YYYY-MM-DD" maxWidth="Infinity"/>
                </VBox>

                <Region VBox.vgrow="ALWAYS" />

                <Button fx:id="createAssignment"
                        text="과제 생성"
                        onAction="#handleFetchAssignment"
                        maxWidth="Infinity"
                        styleClass="button-primary"
                        style="-fx-padding: 12 0; -fx-font-weight: bold;"/>
            </VBox>
        </VBox>

        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS" spacing="15">

            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="등록된 과제 목록" styleClass="label-subheader"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label text="필터:" styleClass="label-body"/>
                <ComboBox fx:id="taskComboBox" prefWidth="120"/>
            </HBox>

            <TableView fx:id="TaskTable" VBox.vgrow="ALWAYS" styleClass="table-view">
                <columns>
                    <TableColumn fx:id="colId" text="No" prefWidth="50" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colTitle" text="과제명" prefWidth="150"/>
                    <TableColumn fx:id="colContent" text="내용" prefWidth="200"/>
                    <TableColumn fx:id="colType" text="유형" prefWidth="80" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colDueDate" text="마감일" prefWidth="100" style="-fx-alignment: CENTER;"/>
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
            </TableView>
        </VBox>

    </HBox>

</VBox>